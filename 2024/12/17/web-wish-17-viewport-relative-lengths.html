<!doctype html>
<html>
  <head>
      <meta charset=utf-8>
      <title>Web Wish 17: Viewport Relative Lengths</title>
      <style>@layer reset, default, layout;</style>
      <link rel=stylesheet href=/assets/css/reset.css>
      <link rel=stylesheet href=/assets/css/fonts.css>
      <link rel=stylesheet href=/assets/css/default.css>
      <link rel=stylesheet href=/assets/css/layout.css>
      <link rel=stylesheet href=/assets/css/style.css>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel=canonical href="/2024/12/17/web-wish-17-viewport-relative-lengths.html">
      <link rel="me" href="https://front-end.social/@johannes">
  </head>
  <body>
  
   <header>
      <a href="/" class="site-title">Johannes Odland</a>
      <nav></nav>
    </header>

    <article role="main">
      <header>
        <time datetime="Tue Dec 17 2024 19:00:00 GMT+0000 (Coordinated Universal Time)" pubdate>
          Dec 17, 2024
        </time>
        <h1>Web Wish 17: Viewport Relative Lengths</h1>
      </header>
      <div class="content"><p>Viewport relative units come in really handy when you need to size elements relative to the viewport,
say a hero element that should have the exact size of the viewport.</p>
<p>There's one catch though, the size of the viewport can change dynamically as mobile browser interfaces,
like the address bar, expand and collapse as users scroll.
If the elements on the page expand and collapse as a result, the layout of the page ends up unstable,
and the user can experience bouncing around the page as he changes scroll direction.</p>
<p>This is why browsers made <code>vh</code> units stable, reflecting the size of the viewport with browser interfaces collapsed.
This ensures that the layout does not shift unexpectedly, providing a smoother user experience.</p>
<p>This also prompted the CSS working group to standardize new viewport units.
The new units include two stable sets: one for the large viewport with interfaces retracted (<code>lv*</code>), and one for the small viewport with user interfaces expanded (<code>sv*</code>).
The final set of units allows authors to opt in to dynamic sizes (<code>dv*</code>).</p>
<p>Most of the major browsers support the new viewport units correctly, <a href="https://github.com/mozilla-mobile/firefox-ios/issues/22607">except for Firefox on iOS</a>.</p>
<p>The new units were a big step forward, but there's still a challenge: inconsistent support in In App Browsers (IABs).
Apps like social media, messaging platforms and other services often open links in IABs, to keep users within their ecosystems.
Unfortunately many of these IABs fail to implement viewport units correctly.</p>
<p>In fact, the SFSafariViewController does not seem to <a href="https://bugs.webkit.org/show_bug.cgi?id=255708">handle the viewport units correctly</a>.
This is particularly problematic, since SFSafariViewController is widely used in popular apps like Slack.</p>
<p><strong>This is a major frustration for authors that have to maintain fragile javascript workarounds to make sure their page layout doesn't break
â€“ and for users who experience broken pages as a result.</strong></p>
<p>Today, I'm wishing for Apple and app developers to collaborate on fixing viewport units in IABs,
making viewport-based layouts more reliable for authors and users alike.</p>
</div>
    </article>
  
    <footer>
      <h2>Johannes Odland</h2>
      <p>Infrequent posts about CSS and other frontend stuff.</p>
      <ul>
        <li><a href="https://front-end.social/@johannes">Mastodon</a></li>
        <li><a href="https://github.com/johannesodland">Github</a></li>
        <li><a href="/feed.xml">Atom feed</a></li>
      </ul>
      <p>Built with <a href="https://www.11ty.dev">Eleventy</a>.</p>
    </footer>
  </body>
</html>