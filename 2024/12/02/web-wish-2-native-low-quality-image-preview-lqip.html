<!doctype html>
<html>
  <head>
      <meta charset=utf-8>
      <title>Web Wish 2: Native Low Quality Image Preview (LQIP)</title>
      <style>@layer reset, default, layout;</style>
      <link rel=stylesheet href=/assets/css/reset.css>
      <link rel=stylesheet href=/assets/css/fonts.css>
      <link rel=stylesheet href=/assets/css/default.css>
      <link rel=stylesheet href=/assets/css/layout.css>
      <link rel=stylesheet href=/assets/css/style.css>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel=canonical href="https://odland.dev/2024/12/02/web-wish-2-native-low-quality-image-preview-lqip.html">
      <meta http-equiv="refresh" content="0; url=https://odland.dev/2024/12/02/web-wish-2-native-low-quality-image-preview-lqip.html" />
      <link rel="me" href="https://front-end.social/@johannes">
  </head>
  <body>
  
   <header>
      <a href="/" class="site-title">Johannes Odland</a>
      <nav></nav>
    </header>

    <article role="main">
      <header>
        <time datetime="Mon Dec 02 2024 17:30:00 GMT+0000 (Coordinated Universal Time)" pubdate>
          Dec 2, 2024
        </time>
        <h1>Web Wish 2: Native Low Quality Image Preview (LQIP)</h1>
      </header>
      <div class="content"><p>Implementing lazy-loading images has never been easier.</p>
<p>First we got support for the <a href="https://github.com/whatwg/html/issues/2806"><code>loading=lazy</code></a> attribute, making it easy to defer images.
Then came automatic aspect-ratio calculations based on <a href="https://github.com/WICG/intrinsicsize-attribute/issues/16#issuecomment-503245998">the <code>width</code> and <code>height</code> attributes</a>,
fixing annoying layout shifts.
Just recently, support for <a href="https://github.com/whatwg/html/issues/4654"><code>sizes=auto</code></a> has started to arrive,
taking away the hassle – and sometimes impossible task – of specifying image sizes upfront.</p>
<p>There is one thing that I think is missing from native lazy loading images, though.
That is having support for low quality image previews (LQIP).</p>
<p>On a fast fiber connection, you might not even notice that the images are lazy-loaded.
But on a slow connection, they can appear as blank placeholders before the actual image is loaded.</p>
<p>You <em>can</em> use tricks like setting <code>background-image: url(lqip.webp)</code> for low quality previews,
but this only works for the simplest cases.</p>
<p>Things get messy if the image has multiple sources, or uses <code>object-fit</code> settings like <code>contain</code> or <code>cover</code> –
at which point it can become <a href="https://github.com/w3c/csswg-drafts/issues/8243">nearly impossible</a>.</p>
<p>So, for Christmas, I wish that low quality image previews were natively supported,
and that we can set an LQIP source for each <code>&lt;source&gt;</code>element.</p>
<p>Relevant issues and PRs:</p>
<ul>
<li><a href="https://github.com/whatwg/html/issues/3631">Controlling the appearance of images being loaded</a></li>
<li><a href="https://github.com/w3c/csswg-drafts/issues/8243">Add 'replacement-box' as option to background-origin and background-clip</a></li>
</ul>
</div>
    </article>
  
    <footer>
      <h2>Johannes Odland</h2>
      <p>Infrequent posts about CSS and other frontend stuff.</p>
      <ul>
        <li><a href="https://front-end.social/@johannes">Mastodon</a></li>
        <li><a href="https://github.com/johannesodland">Github</a></li>
        <li><a href="/feed.xml">Atom feed</a></li>
      </ul>
      <p>Built with <a href="https://www.11ty.dev">Eleventy</a>.</p>
    </footer>
  </body>
</html>